(this["webpackJsonpgoit-react-hw-04-hooks-imagesr"]=this["webpackJsonpgoit-react-hw-04-hooks-imagesr"]||[]).push([[0],{17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),o=c(4),r=c.n(o),i=(c(17),c(9)),s=c(3),u=(c(18),c(7)),l=(c(19),c(1)),j=document.getElementById("modal-root");function b(e){var t=e.content,c=e.onClose;Object(n.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&c()};return Object(o.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&c()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:t,alt:""})})}),j)}c(21);var d=c(12);c(22);function O(e){var t=e.onSubmit,c=Object(n.useState)(""),a=Object(s.a)(c,2),o=a[0],r=a[1],i=function(e){e.preventDefault(),""!==o.trim()?t(o):Object(u.b)("Please enter search query")};return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:i,children:[Object(l.jsxs)("button",{type:"button",className:"SearchForm-button",onClick:i,children:[Object(l.jsx)(d.a,{}),Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})]}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})}var m=c(10);c(23),c(24);function h(e){var t=e.id,c=e.webformatURL,n=e.tags,a=e.onItemClick;return Object(l.jsx)("img",{src:c,alt:n,className:"ImageGalleryItem-image",onClick:function(){return function(e){a(e)}(t)}})}function f(e){var t=e.images,c=e.onItemClick,n=e.onClick;return Object(l.jsx)("ul",{className:"ImageGallery",onClick:function(e){e.target!==e.currentTarget&&n()},children:t&&t.map((function(e){return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)(h,Object(m.a)(Object(m.a)({},e),{},{onItemClick:c}))},e.id)}))})}c(25);function p(e){var t=e.onLoadMoreClick;return Object(l.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load More"})}var x=c(11),g=c.n(x);function v(){return Object(l.jsx)("div",{children:Object(l.jsx)(g.a,{type:"Hearts",color:"#00BFFF",height:100,width:100,timeout:3e3})})}function k(){var e=Object(n.useState)("idle"),t=Object(s.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)([]),r=Object(s.a)(o,2),j=r[0],d=r[1],m=Object(n.useState)(!1),h=Object(s.a)(m,2),x=h[0],g=h[1],k=Object(n.useState)(""),y=Object(s.a)(k,2),S=y[0],C=y[1],N=Object(n.useState)(""),w=Object(s.a)(N,2),I=w[0],E=w[1],F=Object(n.useState)(1),L=Object(s.a)(F,2),B=L[0],T=L[1],M=Object(n.useState)(!1),q=Object(s.a)(M,2),G=(q[0],q[1]),P=Object(n.useState)(!1),R=Object(s.a)(P,2),U=R[0],W=R[1],H=Object(n.useState)(!1),J=Object(s.a)(H,2),_=J[0],z=J[1];Object(n.useEffect)((function(){I&&A()}),[I,B]);var A=function(){z(!0),function(e,t){var c="".concat("https://pixabay.com/api/?key=").concat("24167481-0dfdd643baa4ca7b2ab61bff5","&q=").concat(encodeURIComponent(e),"&per_page=").concat(12,"&page=").concat(t,"&image_type=photo&orientation=horizontal");return fetch(c).then((function(e){return e.json()}))}(I,B).then((function(e){var t=e.hits;0!==t.length?(t.length<12&&Q(),d([].concat(Object(i.a)(j),Object(i.a)(t))),D(),a("resolved")):a("rejected")})).catch((function(e){return G(e)})).finally((function(){return z(!1)}))},D=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},K=j.length>0&&"rejected"!==c&&!U,Q=function(){W(!U)},V=function(){g(!x)},X=null;return"idle"===c&&(X=Object(l.jsx)("div",{className:"TextBlock",children:Object(l.jsx)("h2",{children:"Enter search query"})})),"pending"===c&&(X=Object(l.jsx)("div",{className:"Wrapper",children:Object(l.jsx)(v,{})})),"rejected"===c&&(X=Object(l.jsx)("div",{className:"TextBlock",children:Object(l.jsx)("h2",{children:"Nothing was found on your query. Please try again"})})),"resolved"===c&&(X=Object(l.jsx)(f,{images:j,onClick:V,onItemClick:function(e){var t=j.find((function(t){return t.id===e}));C(t.largeImageURL)}})),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(O,{onSubmit:function(e){E(e),T(1),d([]),W(!1)}}),X,_&&Object(l.jsx)("div",{className:"Wrapper",children:Object(l.jsx)(v,{})}),K&&Object(l.jsx)("div",{className:"Wrapper",children:Object(l.jsx)(p,{onLoadMoreClick:function(){T((function(e){return e+1}))}})}),x&&Object(l.jsx)(b,{content:S,onClose:V}),Object(l.jsx)(u.a,{autoClose:5e3,position:"top-center"})]})}r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.baa0cf0f.chunk.js.map